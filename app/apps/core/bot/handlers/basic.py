from aiogram import Router
from aiogram.filters import Command, Text
from aiogram.types import Message
from aiogram.fsm.context import FSMContext

from app.apps.core.use_case import CORE_USE_CASE
from app.apps.core.bot.keyboards.default.menu import MainMenuButtons
from app.apps.core.bot.filters import type_user

router = Router()


@router.message(Command(commands=["start"]), type_user.IsNotActive())
async def first_start(message: Message) -> None:
    if message.from_user is None:
        return
    user, is_new = await CORE_USE_CASE.register_bot_user(
        user_id=message.from_user.id,
        chat_id=message.chat.id,
        username=message.from_user.username,
    )
    welcome_message = f"""ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽ  "{user.username}".Ð—Ð´ÐµÑÑŒ Ñ‚Ñ‹ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‚Ð°Ðº,Ð½Ð°Ð²ÐµÑ€Ð½Ð¸ÐºÐ° Ñ‚ÐµÐ±Ñ ÑƒÐ¶Ðµ Ð²Ð²ÐµÐ»Ð¸ Ð² ÐºÑƒÑ€Ñ Ð´ÐµÐ»Ð°.
ÐžÐ´Ð½Ð°ÐºÐ¾,ÐµÑÐ»Ð¸ ÑÑ‚Ð¾ Ð½Ðµ Ñ‚Ð°Ðº, Ñ‚Ñ‹ Ð² Ð»ÑŽÐ±Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ð¸ Ð½Ð° Ð²ÐµÑ€Ð½Ð¾Ð¼ Ð¿ÑƒÑ‚Ð¸.ÐœÐµÐ½Ñ Ð·Ð¾Ð²ÑƒÑ‚ Ð±Ð¾Ñ‚ Ð±Ð°Ð»Ð°Ð½Ñ - Ñ Ñ‚Ð²Ð¾Ð¹ Ñ‚Ñ€ÐµÐºÐµÑ€ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº.
ÐœÐ¾Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ ÑÑ‚Ð°Ñ€Ð°Ð»Ð¸ÑÑŒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð²ÑÑ‘ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¸ ÑƒÐ´Ð¾Ð±Ð½Ð¾.ÐÐ° Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ñ‚Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ‚Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸,ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ‚Ñ‹ Ð³Ð¾Ñ‚Ð¾Ð² 
ÑÐ¾Ð±Ð»ÑŽÐ´Ð°Ñ‚ÑŒ Ð² Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ - Ð·Ð°Ñ€ÑÐ´ÐºÐ°,Ð·Ð°Ð²Ñ‚Ñ€Ð°,Ð¾Ð±ÐµÐ´,ÑƒÐ¶Ð¸Ð½.Ð Ð¼Ð¾Ñ Ð·Ð°Ð´Ð°Ñ‡Ð° Ð¿Ñ€Ð¾ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ñ… Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ.
ÐœÐ¾Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð¿Ñ€Ð¸Ð´ÑƒÐ¼Ð°Ð»Ð¸ Ð¸Ð³Ñ€Ð¾Ð²ÑƒÑŽ Ñ„Ð¾Ñ€Ð¼Ñƒ Ð¾Ñ‚Ð²ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð·Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¸ Ð½ÐµÐ²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ Ð² Ð²Ð¸Ð´Ðµ Ð´ÐµÐ½ÐµÐ¶Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð¾Ð±Ñ‰Ñ€ÐµÐ½Ð¸Ñ Ð¸ Ð½Ð°ÐºÐ°Ð·Ð°Ð½Ð¸Ñ.
ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ:
1.Ð’Ñ‹Ð±Ð¸Ñ€Ð°Ð¹ Ð¿ÑƒÐ½ÐºÑ‚Ñ‹ Ð¿Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼ Ð¼Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ð¼ ÑÐµÐ±Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ ÑÑ‚Ð°Ð²ÑŒ ÑÑ€Ð¾Ðº Ð´Ð»Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ 100 Ð´Ð½ÐµÐ¹).Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ 1 Ñ€Ð°Ð·.
2.Ð’Ð½Ð¾ÑÐ¸ Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚ Ð¾Ñ‚ 500 Ñ€ÑƒÐ±Ð»ÐµÐ¹,Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²ÑÑ‚ÑƒÐ¿Ð¸Ñ‚ÑŒ Ð² Ð¸Ð³Ñ€Ñƒ.
3.ÐŸÑ€Ð¸ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¾ Ð·Ð°Ñ€ÑÐ´ÐºÐµ,Ð·Ð°Ð²Ñ‚Ñ€Ð°ÐºÐµ,Ð¾Ð±ÐµÐ´Ðµ Ð¸Ð»Ð¸ ÑƒÐ¶Ð¸Ð½Ðµ,Ñ‚ÐµÐ±Ðµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾ÐºÑ€ÑƒÐ¶Ð¾Ðº Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÑÐ° Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð° Ñ Ñ†ÐµÐ»ÐµÐ²Ñ‹Ð¼ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÐµÐ¼ Ð±ÑƒÐ´ÑŒ Ñ‚Ð¾,Ð²ÐºÑƒÑÐ½Ð°Ñ ÐµÐ´Ð° Ð¸Ð»Ð¸
Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ.ÐŸÑ€Ð¸ Ð½ÐµÑÐ¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ð¸ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°,Ñ‚Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑˆÑŒ ÑˆÑ‚Ñ€Ð°Ñ„ Ð² Ð²Ð¸Ð´Ðµ 100 Ñ€ÑƒÐ±Ð»ÐµÐ¹ ÑÐ¾ ÑÐ²Ð¾ÐµÐ³Ð¾ ÑÑ‡Ñ‘Ñ‚Ð°.Ð¨Ñ‚Ñ€Ð°Ñ„ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ Ñ€Ð°Ð²Ð½Ð¾Ð¼ÐµÑ€Ð½Ð¾ Ð¼ÐµÐ¶Ð´Ñƒ Ð²ÑÐµÐ¼Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼Ð¸ Ð¸Ð³Ñ€Ñ‹,ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ 
Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ð»Ð¸ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ Ð´Ð½Ñ Ð²ÑÐµ Ñ‚Ð¾Ñ‡ÐºÐ¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ.Ð•ÑÐ»Ð¸ Ñ‚Ñ‹ Ð²ÑÑ‘ ÑÐ¾Ð±Ð»ÑŽÐ´Ð°ÐµÑˆÑŒ,ÐºÐ°Ðº ÑÐµÐ±Ðµ Ð¸ Ð¿Ð¾Ð¾Ð±ÐµÑ‰Ð°Ð»-Ñ‚Ñ‹ Ð²Ñ‹Ð¸Ð³Ñ€Ñ‹Ð²Ð°ÐµÑˆÑŒ,Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÑÑŽÑ‚ÑÑ,Ð±Ð°Ð»Ð°Ð½Ñ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ.
4.Ð”ÐµÐ½ÑŒÐ³Ð¸ ÑÐ¾ ÑÑ‡ÐµÑ‚Ð° Ð¼Ð¾ÑÐ½Ð¾ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð¿Ð¾ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸ÑŽ ÑÑ€Ð¾ÐºÐ° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ,ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ‚Ñ‹ ÑÐµÐ±Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð».
5.Ð¢Ð°ÐºÐ¶Ðµ Ñƒ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ Ð¿Ð°Ð±Ð»Ð¸Ðº,Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ñ‚Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾ÐºÑ€ÑƒÐ¶ÐºÐ¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²,Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð¿Ð¾Ð¾Ð±Ñ‰Ð°Ñ‚ÑŒÑÑ.
6.ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ Ð¿Ð°Ð±Ð»Ð¸ÐºÐ° Ð²Ñ‹Ð½ÑƒÐ¶Ð´ÐµÐ½ ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ Ð¾Ð±Ð½Ð°Ð¶ÐµÐ½ÐºÑƒ,Ð½ÐµÑ†ÐµÐ½Ð·ÑƒÑ€Ð½ÑƒÑŽ Ð±Ñ€Ð°Ð½ÑŒ Ð¸Ð»Ð¸ Ð»ÑŽÐ±Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ,ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÑÐºÐ¾Ñ€Ð±Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼ Ð´Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ð° ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ð¸Ð³Ñ€Ñ‹.
7.ÐœÐ¾Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð¸ Ð´Ð¾Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸,ÐµÑÐ»Ð¸ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾.

Ð˜Ñ‚Ð°Ðº,Ñ‚Ñ‹ Ð³Ð¾Ñ‚Ð¾Ð² Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ ÑÐ¾Ð»ÑŽÐ´Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð·Ð° ÑÑ‚Ð¾?Ð•ÑÐ»Ð¸ Ð´Ð°,Ñ‚Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÐµÐ¼ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð¿Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ Ð¾Ñ‚ 500 Ð´Ð¾ 1000 Ñ€ÑƒÐ±Ð»ÐµÐ¹,Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸,Ð²Ñ€ÐµÐ¼Ñ Ð¸Ñ… ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð³Ð¾ 
Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¸ ÑÑ€Ð¾Ðº ÑÑ‚Ð¾Ð³Ð¾ Ñ‡ÐµÐ»Ð»ÐµÐ½Ð´Ð¶Ð°.ÐŸÑ€Ð¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ðµ Ð² Ñ„Ð¾Ñ€Ð¼Ðµ Ð²Ð¸Ð´ÐµÐ¾ÐºÑ€ÑƒÐ¶ÐºÐ° Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð½Ð° ÑÑ‡ÐµÑ‚Ðµ,ÐºÐ°Ðº Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ,ÐºÐ°Ðº Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ ÑƒÐ¼Ð½Ð¾Ð¶Ð°ÑŽÑ‚ÑÑ.ÐŸÑ€Ð¸ Ð¾Ñ‚ÑÑƒÑÑ‚Ð²Ð¸Ð¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð° Ð² Ñ„Ð¾Ñ€Ð¼Ðµ Ð²Ð¸Ð´ÐµÐ¾ÐºÑ€ÑƒÐ¶ÐºÐ°,Ñ Ð²Ñ‹Ð½ÑƒÐ¶Ð´ÐµÐ½ ÑÐ¿Ð¸ÑÐ°Ñ‚ÑŒ 100 Ñ€ÑƒÐ±Ð»ÐµÐ¹
Ð¸ Ñ€Ð°Ð·Ð´Ð°Ñ‚ÑŒ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¼ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼,ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ð»Ð¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚.Ð”Ð° Ð¿Ñ€Ð¸Ð±ÑƒÐ´ÐµÑ‚ Ñ Ð½Ð°Ð¼Ð¸ Ð±Ð°Ð»Ð°Ð½Ñ!
"""
    await message.answer(welcome_message, reply_markup=MainMenuButtons.add_balance())


@router.message(Command(commands=["start"]), type_user.IsGoodBalance())
async def good_start(message: Message) -> None:
    if message.from_user is None:
        return
    user = await CORE_USE_CASE.get_bot_user(message.from_user.id)
    await message.answer(f'ÐŸÑ€Ð¸Ð²ÐµÑ‚ {user.username} Ñ‚Ñ‹ ÑƒÐ¶Ðµ Ð² ÑÐµÐºÑ‚Ðµ, Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð²Ð²ÐµÐ´Ð¸ /info',
                         reply_markup=MainMenuButtons.main_menu(add_select_activity=True,
                                                                add_change_activity=True,
                                                                add_output_money=True))


@router.message(Command(commands=["start"]), type_user.IsNegativeBalance())
async def bad_start(message: Message) -> None:
    if message.from_user is None:
        return
    user = await CORE_USE_CASE.get_bot_user(message.from_user.id)
    await message.answer(f'ÐŸÑ€Ð¸Ð²ÐµÑ‚ {user.username} Ñ‚Ñ‹ ÑƒÐ¶Ðµ Ð² ÑÐµÐºÑ‚Ðµ, Ð½Ð¾ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ ÐºÐ¾Ð½Ñ‡Ð¸Ð»Ð¸ÑÑŒ Ð´ÐµÐ½ÑŒÐ³Ð¸,Ð¿Ð¾Ð¿Ð¾Ð»Ð½ÑÐ¹ ÑÐºÐ¾Ñ€ÐµÐ¹!',
                         reply_markup=MainMenuButtons.main_menu(add_select_activity=True,
                                                                add_change_activity=True,
                                                                add_output_money=True))


@router.message(Command(commands=["info"]))
async def handle_info_command(message: Message) -> None:
    if message.from_user is None:
        return
    info_message = """ÐœÐµÐ½Ñ Ð·Ð¾Ð²ÑƒÑ‚ Ð±Ð¾Ñ‚ Ð±Ð°Ð»Ð°Ð½Ñ - Ñ Ñ‚Ð²Ð¾Ð¹ Ñ‚Ñ€ÐµÐºÐµÑ€ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº.
ÐœÐ¾Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ ÑÑ‚Ð°Ñ€Ð°Ð»Ð¸ÑÑŒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð²ÑÑ‘ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¸ ÑƒÐ´Ð¾Ð±Ð½Ð¾.ÐÐ° Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ñ‚Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ‚Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸,ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ‚Ñ‹ Ð³Ð¾Ñ‚Ð¾Ð² 
ÑÐ¾Ð±Ð»ÑŽÐ´Ð°Ñ‚ÑŒ Ð² Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ - Ð·Ð°Ñ€ÑÐ´ÐºÐ°,Ð·Ð°Ð²Ñ‚Ñ€Ð°,Ð¾Ð±ÐµÐ´,ÑƒÐ¶Ð¸Ð½.Ð Ð¼Ð¾Ñ Ð·Ð°Ð´Ð°Ñ‡Ð° Ð¿Ñ€Ð¾ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ñ… Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ.
ÐœÐ¾Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð¿Ñ€Ð¸Ð´ÑƒÐ¼Ð°Ð»Ð¸ Ð¸Ð³Ñ€Ð¾Ð²ÑƒÑŽ Ñ„Ð¾Ñ€Ð¼Ñƒ Ð¾Ñ‚Ð²ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð·Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¸ Ð½ÐµÐ²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ Ð² Ð²Ð¸Ð´Ðµ Ð´ÐµÐ½ÐµÐ¶Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð¾Ð±Ñ‰Ñ€ÐµÐ½Ð¸Ñ Ð¸ Ð½Ð°ÐºÐ°Ð·Ð°Ð½Ð¸Ñ.
ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ:
1.Ð’Ñ‹Ð±Ð¸Ñ€Ð°Ð¹ Ð¿ÑƒÐ½ÐºÑ‚Ñ‹ Ð¿Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼ Ð¼Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ð¼ ÑÐµÐ±Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ ÑÑ‚Ð°Ð²ÑŒ ÑÑ€Ð¾Ðº Ð´Ð»Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ 100 Ð´Ð½ÐµÐ¹).Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ 1 Ñ€Ð°Ð·.
2.Ð’Ð½Ð¾ÑÐ¸ Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚ Ð¾Ñ‚ 1000 Ñ€ÑƒÐ±Ð»ÐµÐ¹,Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²ÑÑ‚ÑƒÐ¿Ð¸Ñ‚ÑŒ Ð² Ð¸Ð³Ñ€Ñƒ.
3.ÐŸÑ€Ð¸ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¾ Ð·Ð°Ñ€ÑÐ´ÐºÐµ,Ð·Ð°Ð²Ñ‚Ñ€Ð°ÐºÐµ,Ð¾Ð±ÐµÐ´Ðµ Ð¸Ð»Ð¸ ÑƒÐ¶Ð¸Ð½Ðµ,Ñ‚ÐµÐ±Ðµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾ÐºÑ€ÑƒÐ¶Ð¾Ðº Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÑÐ° Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð° Ñ Ñ†ÐµÐ»ÐµÐ²Ñ‹Ð¼ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÐµÐ¼ Ð±ÑƒÐ´ÑŒ Ñ‚Ð¾,Ð²ÐºÑƒÑÐ½Ð°Ñ ÐµÐ´Ð° Ð¸Ð»Ð¸
Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ.ÐŸÑ€Ð¸ Ð½ÐµÑÐ¾Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ð¸ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°,Ñ‚Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑˆÑŒ ÑˆÑ‚Ñ€Ð°Ñ„ Ð² Ð²Ð¸Ð´Ðµ 100 Ñ€ÑƒÐ±Ð»ÐµÐ¹ ÑÐ¾ ÑÐ²Ð¾ÐµÐ³Ð¾ ÑÑ‡Ñ‘Ñ‚Ð°.Ð¨Ñ‚Ñ€Ð°Ñ„ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ Ñ€Ð°Ð²Ð½Ð¾Ð¼ÐµÑ€Ð½Ð¾ Ð¼ÐµÐ¶Ð´Ñƒ Ð²ÑÐµÐ¼Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°Ð¼Ð¸ Ð¸Ð³Ñ€Ñ‹,ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ 
Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ð»Ð¸ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ Ð´Ð½Ñ Ð²ÑÐµ Ñ‚Ð¾Ñ‡ÐºÐ¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ.Ð•ÑÐ»Ð¸ Ñ‚Ñ‹ Ð²ÑÑ‘ ÑÐ¾Ð±Ð»ÑŽÐ´Ð°ÐµÑˆÑŒ,ÐºÐ°Ðº ÑÐµÐ±Ðµ Ð¸ Ð¿Ð¾Ð¾Ð±ÐµÑ‰Ð°Ð»-Ñ‚Ñ‹ Ð²Ñ‹Ð¸Ð³Ñ€Ñ‹Ð²Ð°ÐµÑˆÑŒ,Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÑÑŽÑ‚ÑÑ,Ð±Ð°Ð»Ð°Ð½Ñ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ.
4.Ð”ÐµÐ½ÑŒÐ³Ð¸ ÑÐ¾ ÑÑ‡ÐµÑ‚Ð° Ð¼Ð¾ÑÐ½Ð¾ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð¿Ð¾ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸ÑŽ ÑÑ€Ð¾ÐºÐ° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ,ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ‚Ñ‹ ÑÐµÐ±Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð».
5.Ð¢Ð°ÐºÐ¶Ðµ Ñƒ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ Ð¿Ð°Ð±Ð»Ð¸Ðº,Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ñ‚Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾ÐºÑ€ÑƒÐ¶ÐºÐ¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²,Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð¿Ð¾Ð¾Ð±Ñ‰Ð°Ñ‚ÑŒÑÑ.
6.ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ Ð¿Ð°Ð±Ð»Ð¸ÐºÐ° Ð²Ñ‹Ð½ÑƒÐ¶Ð´ÐµÐ½ ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ Ð¾Ð±Ð½Ð°Ð¶ÐµÐ½ÐºÑƒ,Ð½ÐµÑ†ÐµÐ½Ð·ÑƒÑ€Ð½ÑƒÑŽ Ð±Ñ€Ð°Ð½ÑŒ Ð¸Ð»Ð¸ Ð»ÑŽÐ±Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ,ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÑÐºÐ¾Ñ€Ð±Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼ Ð´Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ð° ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ð¸Ð³Ñ€Ñ‹.
7.ÐœÐ¾Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð¸ Ð´Ð¾Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸,ÐµÑÐ»Ð¸ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾."""
    await message.answer(info_message)


@router.message(Command(commands=["cansel"]))
@router.message(Text(text='ðŸš« ÐžÑ‚Ð¼ÐµÐ½Ð°'))
async def handle_info_command(message: Message, state: FSMContext) -> None:
    if message.from_user is None:
        return
    await message.answer("Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‚ Ð² Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ", reply_markup=MainMenuButtons.main_menu(add_select_activity=True,
                                                                                          add_change_activity=True,
                                                                                          add_output_money=True))
    await state.clear()
